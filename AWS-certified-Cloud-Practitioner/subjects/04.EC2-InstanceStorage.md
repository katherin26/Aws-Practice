# **EBS OVERVIEW**

**What's an EBS Volume?**

1. An EBS (ELASTIC BLOCK STORE) Volume is a network drive you can attach to your instances while they run.
2. It allows your instances to persist data, even after their termination.
3. They can only be mounted to one instance at a time (at the CCP Level).
4. THey are bound to a specific availability zone.
5. Analogy: Think of them as a "network USB stick"
6. Free tier : 30 GB of free EBS storage of type General Purpose (SSD) or Magnetic per month.

NOTE: CCP- Certified CLoud Practitioner one EVS can be only mounted to one EC2 instance associate level (Soluctions architect developer, sysOps) : "multi attach" feature for some EBS.

7. It's a network drive (i.e not a physical drive)

   - It uses the network to communicate the instance, which means there might be a bit of latency.
   - It can be detached from a EC2 instance and attached to another one quickly.

8. It's locked to an Availability Zone (AZ).

   - An EBS Volume in US-EAST-l a cannot be attached to us-east-lb
   - To move a volume across, you first need to snapshot it.

9. Have a provisioned capacity (size in GBs, and IOPS).
   -You get billed for all the provisioned capacity.
   -You can increase the capacity of the dribe over time.

![Drag Racing](images/EBS_VOLUME.png)

# **EBS - DELETE ON TERMINATION ATTRIBUTE**

IMPORTANT: When we create EBS Volumes through EC2 intances, there is this thing called a Deletes on Termination attribute.

When we create an EBS in the console, WHen we create a EC2 instance there the second last column called **delete on termination**
and by default, it is ticked for the Root Volume and not ticked for a new EBS Volume.
So this controls the EBS behavior, when an EC2 instance is being terminated.
So by default, as we can see, the root EBS Volume is deleted alognside the instance being terminated.
And the default any other attached EBS Volume is not deleted.
Because it's disabled by default.
This can be controlled by the AWS console / AWS CLI
If you want to preserve the root volume, when an isntance is terminated, for example, to save some data then you can disable delete on termination.

# **EBS HANDS ON**

1. Create Volume = and we can create a volume type of type gp2.
2. size (GiB)
3. Availability Zone = Create in one availability zone that is the same of the one where my EC2 instance has been created.

![Drag Racing](images/EBS_HANDSON.png)

4. At the end we have 2 volumes, So one is in use, and this is the root volume of my machine. And the other one is a two gigabyte
   volume that is currently available.
5. right click and attach the volume = into our EC2 instance.(because it is in the same availability zone) as our EBS Volume.

![Drag Racing](images/ATTACH_VOLUME.png)

# **EBS SNANPSHOTS**

1. Make a backup (snapshot) of your EBS Volume at a point in time.
   (The idea is that you will be able to back up the state of it) and even if the EBS volume is terminated later on.
2. Not necessary to detach volume to do snapshot, but recommended.
3. Can copy snapshts across AZ or Region.

![Drag Racing](images/EBS_SNAPSHOTS.png)

NOTE: The idea is transfer some of your data in a different region on AWS, to leverage the global infrastructure.
If we look at US-EAST-1A and we want to transfer an EBS volume to US-EAST-1B the way we do it is that we would habe the EBS
volume attached to the EC2 instance, and then we would snapshot it. So maybe we would stop the EC2 instance ahead of time.
to make sure the snapshot is clean, now the EBS shapshots exist in your region and that EBS snapshot can be used to restore a new EBS volume in another availability zone.
When is done, we can attach the new EBS Volume, to an EC2 instance in US-EAST-1B

# **EBS SNAPSHOTS FEATURES**

1. **EBS SNAPSHOT ARCHIVE**
   a. Move a snapshot to an "archive tier" that is 75% cheaper.
   b. Takes within 24 to 72 hours for restoring the archive.

2. **RECYCLE BIN FOR EBS SNAPSHOTS**
   a. Setup rules to retain deleted snapshots so you can recover them after an accidental deletion.
   b. Specify retention (from 1 day to 1 year).

**EBS SNAPSHOTS HANDS ON**
//NOTE:

1. We have this two gigabytes gp2 EBS Volume available to us and we can take a snapshot from it. So if we do actions, we can create a snapshot.

![Drag Racing](images/CREATE_SNAPSHOT.png)

2. Click in snapshot and then you can copy that snapshot in another region, and this can come in very handy in case you want.
   for example, to have a disaster recovery strategy.
   To make sure data is back up in another region of AWS.
3. Another thing is you can recreate a volume from it, in (Create Volume from snapshot).
4. Archive Snapshot.
